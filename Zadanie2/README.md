# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры. 
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.


## Задача 1: API Gateway

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

маршрутизация запросов к нужному сервису на основе конфигурации,
возможность проверки аутентификационной информации в запросах,
обеспечение терминации HTTPS.
Обоснуйте свой выбор.

### Ответ:

| Решение                | Описание                                                                                                                                                                            | Характеристики                                                                                                                                                                                                                                                                                          |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Apigee                 | Apigee -  мощный инструмент для управления API, который помогает контролировать и оптимизировать взаимодействие партнерских приложений, облачных приложений, приложений для конечных пользователей и систем учета                                                                                                                             | * Помогает доставить решение (конечную цель) в виде прокси, агента или гибрида<br> * Упрощает для разработчиков использование данных и инструментов для создания новых облачных приложений<br> * Разработчики могут самостоятельно создавать и поставлять приложения                                    |
| Fusio                  | Fusio - это решение для управления API с открытым исходным кодом для создания, развертывания и управления REST API. Это программное решение предоставляет пользователям инструменты, которые упрощают создание API из различных источников | * Уникальный портал для разработчиков, где разработчики могут зарегистрироваться для использования вашего API<br> * Предоставляет разработчикам авторизацию OAuth2 для доступа к непубличным API<br> * Есть приложение документации, которое показывает всем разработчикам доступные конечные точки API |
| Kong Community Edition | Предоставляет комплексные решения для организаций, которые стремятся решить критические проблемы приложений                                                                         | * Позволяет управлять своими командами и предоставлять интегрированную среду разработки<br> * Есть множество плагинов, которые можно использовать для расширения функциональных возможностей инструментов<br> * Масштабируется, особенно для организаций с большой рабочей нагрузкой                    |
| WSO2 API Manager       | WSO2 — это инструмент управления API с открытым исходным кодом, который можно развернуть в локальной сети, в облаке, а также предоставить в качестве                                | * Высоконастраиваемый<br> * Регулирует трафик API, тем самым защищая его от будущих атак<br> * Имеет аналитическую платформу, которая контролирует и отслеживает результаты                                                                                                                             |
| API Umbrella           | API Umbrella может добавить базовые функции, такие как ограничение скорости, аналитика и ключи API к любому API                                                                                                                                                                                    | * Ускоряет API, интегрируя в него стандартный слой HTTP-кэширования<br> * Помогает вам унифицировать ваши API, предоставляя единую, общедоступную точку входа в них<br> * Позволяет создать один ключ API, который можно использовать в нескольких API


Не имея опыта использования данных решений предположу, что в качестве решения по задаче, подойдёт **Kong**.
* Преимущества для меня:
    * Большая поддержка неравнодушных людей, который могут подсказать или можно найти документацию по ней
    * Предоставление огромного разнообразия плагинов для применения. 
    * Отличный уровень масштабирования (с учетом перспективы вариантов применения)


## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

### Ответ:

| Брокер сообщений    | Возможсность<br> кластеризации | Хранение<br> данных | Скорость<br> работы | Мультиформатность | Разделение прав |
|-----------------    |--------------------------------|---------------------|---------------------|-------------------|-----------------|
| Apache ActiveMQ     | Есть                           | Есть                | Средняя             | Есть              | Есть            |
| Apache Kafka        | Есть                           | Есть                | Быстрая             | Есть              | Есть            |
| Nats                | Есть                           | Есть                | Быстрая             | Есть              | Есть            |
| RabbitMQ            | Есть                           | Есть                | Средняя             | Есть              | Есть            |

Я выберу RabbitMQ:
* обеспечивает систематическую доставку сообщений в определенном порядке
* обладает расширенной поддержкой множества языков программирования
* поддерживает множество различных платформ
* он поддерживает групповую передачу сообщений
